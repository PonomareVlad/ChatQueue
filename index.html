<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Statistic</title>
    <script>
        window.addEventListener('load', init)

        async function init() {
            const data = await fetch('/api/stat').then(_ => _.json());
            document.title = data.rooms.length + ' комнат';
            let output = '<table>';
            data.rooms.reverse().forEach(room => output += `<tr><td>${room.id || '—'}</td><td>${room.host || '—'}</td><td>${room.client || '—'}</td></tr>`);
            document.body.innerHTML = output + '</table>';
        }
    </script>
</head>
<body>
</body>
</html>
